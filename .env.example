# =============================================================================
# mkv2castUI Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values for your environment
# 
# For local/self-hosted mode: Set REQUIRE_AUTH=false
# For production with OAuth: Configure OAuth credentials below
# =============================================================================

# =============================================================================
# APPLICATION MODE
# =============================================================================
# Set to 'false' for local/self-hosted mode (no authentication required)
# Set to 'true' for production with OAuth authentication
REQUIRE_AUTH=true

# =============================================================================
# DJANGO CONFIGURATION
# =============================================================================
# IMPORTANT: Generate a unique secret key for production!
# You can generate one with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=your-secret-key-change-me-in-production

# Debug mode - NEVER enable in production
DJANGO_DEBUG=False

# Comma-separated list of allowed hosts
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

# Timezone and language settings
DJANGO_TIME_ZONE=UTC
DJANGO_LANGUAGE_CODE=en-us

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
POSTGRES_DB=mkv2cast
POSTGRES_USER=mkv2cast
POSTGRES_PASSWORD=change-me-in-production

# Full database connection URL
# Format: postgres://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgres://mkv2cast:change-me-in-production@postgres:5432/mkv2cast

# =============================================================================
# REDIS / CELERY
# =============================================================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Number of concurrent Celery workers
CELERY_WORKER_CONCURRENCY=2

# =============================================================================
# OAUTH PROVIDERS (Optional)
# =============================================================================
# Leave empty or set REQUIRE_AUTH=false to disable OAuth

# Google OAuth
# Get credentials at: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth  
# Get credentials at: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# =============================================================================
# FRONTEND (Next.js)
# =============================================================================
# Public URL where the application is hosted
NEXTAUTH_URL=http://localhost:8080

# Secret for NextAuth.js session encryption
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-change-me

# API endpoints (usually don't need to change)
NEXT_PUBLIC_API_URL=/api
NEXT_PUBLIC_WS_URL=/ws

# =============================================================================
# MKV2CAST / FFMPEG CONFIGURATION
# =============================================================================
# Hardware acceleration backend
# Options: auto, cpu, vaapi, qsv
MKV2CAST_DEFAULT_HW=auto

# VAAPI device path (leave empty for auto-detection)
# Common values: /dev/dri/renderD128, /dev/dri/renderD129
MKV2CAST_VAAPI_DEVICE=

# Default video quality settings (CPU encoding)
# CRF: 0-51, lower = better quality, higher file size (recommended: 18-28)
MKV2CAST_DEFAULT_CRF=23

# Encoding preset (speed vs quality tradeoff)
# Options: ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow
MKV2CAST_DEFAULT_PRESET=medium

# VAAPI quality parameter (0-51, lower = better)
MKV2CAST_DEFAULT_VAAPI_QP=23

# QSV quality parameter (1-51, lower = better)
MKV2CAST_DEFAULT_QSV_QUALITY=23

# Default audio bitrate
# Options: 128k, 192k, 256k, 320k
MKV2CAST_DEFAULT_AUDIO_BITRATE=192k

# Maximum upload file size in bytes
# Default: 10GB = 10737418240 bytes
MKV2CAST_MAX_FILE_SIZE=10737418240

# =============================================================================
# STORAGE (Local or S3-compatible)
# =============================================================================
# Set to 'true' to use S3-compatible storage (MinIO, AWS S3, etc.)
USE_S3=false

# S3 configuration (only required if USE_S3=true)
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET_NAME=mkv2cast
S3_REGION=us-east-1

# =============================================================================
# GUNICORN (Production Server)
# =============================================================================
# Number of worker processes
# Recommended: (2 x CPU cores) + 1
GUNICORN_WORKERS=4

# Request timeout in seconds
GUNICORN_TIMEOUT=120

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Additional allowed origins (comma-separated)
# Default includes localhost:3000, localhost:8080
CORS_EXTRA_ORIGINS=
