# ==============================================================================
# mkv2castUI Environment Configuration
# ==============================================================================
# Copy this file to .env and configure your settings
# ==============================================================================

# ==============================================================================
# Basic Configuration
# ==============================================================================
NGINX_PORT=8080

# ==============================================================================
# Authentication
# ==============================================================================
# Set to false for local mode (no authentication required)
REQUIRE_AUTH=true

# ==============================================================================
# Django Settings
# ==============================================================================
# Generate with: openssl rand -hex 32
DJANGO_SECRET_KEY=your-secret-key-here-change-this
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1
DJANGO_TIME_ZONE=UTC
DJANGO_LANGUAGE_CODE=en-us

# ==============================================================================
# Database Configuration
# ==============================================================================
POSTGRES_DB=mkv2cast
POSTGRES_USER=mkv2cast
POSTGRES_PASSWORD=change-this-password
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ==============================================================================
# OAuth Configuration (Optional if REQUIRE_AUTH=false)
# ==============================================================================
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# NextAuth Configuration
NEXTAUTH_URL=http://localhost:8080
NEXTAUTH_SECRET=your-nextauth-secret-here

# ==============================================================================
# Storage Configuration
# ==============================================================================
# Set to true to use external S3-compatible storage
USE_S3=false

# S3 Configuration (required if USE_S3=true)
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET_NAME=mkv2cast
S3_REGION=us-east-1

# MinIO Configuration (used if USE_S3=false)
MINIO_ENDPOINT=http://minio:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_ACCESS_KEY=${MINIO_ROOT_USER}
MINIO_SECRET_KEY=${MINIO_ROOT_PASSWORD}

# ==============================================================================
# Application Settings
# ==============================================================================
# Maximum file upload size in bytes (default: 10GB)
MKV2CAST_MAX_FILE_SIZE=10737418240

# ==============================================================================
# Hardware Acceleration
# ==============================================================================
# Options: auto, cpu, vaapi, qsv, nvenc
MKV2CAST_DEFAULT_HW=auto
MKV2CAST_VAAPI_DEVICE=

# Encoding Quality Settings
MKV2CAST_DEFAULT_CRF=23
MKV2CAST_DEFAULT_PRESET=medium
MKV2CAST_DEFAULT_VAAPI_QP=23
MKV2CAST_DEFAULT_QSV_QUALITY=23
MKV2CAST_DEFAULT_AUDIO_BITRATE=192k

# ==============================================================================
# Performance Tuning
# ==============================================================================
GUNICORN_WORKERS=4
GUNICORN_TIMEOUT=120
CELERY_WORKER_CONCURRENCY=2

# ==============================================================================
# Frontend Configuration
# ==============================================================================
NEXT_PUBLIC_API_URL=/api
NEXT_PUBLIC_WS_URL=/ws
NEXT_PUBLIC_REQUIRE_AUTH=${REQUIRE_AUTH}
